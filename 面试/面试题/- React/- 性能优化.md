# 性能优化

-   React 虽然利用 虚拟 dom 提高了渲染性能,但依旧存在许多不必要的渲染, 比如 父组件的更新并没有影响子组件, 子组件依旧会重新渲染
-   为了避免这种情况, 组件开发时 可以使用 shouldComponentUpdate 来判断 props 是否变化来阻止组件渲染.
-   然后用 pureComonent, 和 memo 方法包裹组件.

-   代码层面:
    -   路由懒加载, lazy 方法中 import 组件, 减小首次加载文件大小
    -   在使用第三方库的时候,按需加载.
    -   合理使用 hooks 函数,如 useMemo, useCallback 等方法,依赖不变不会重新渲染, 有点 Vue 中 watch 和 计算属性的感觉.
    -   不要写内联函数, render 在渲染的时候,会生成一个函数实例.
    -   同级别代码块使用 Fragment 包含, 而不是使用其它标签.等方式
