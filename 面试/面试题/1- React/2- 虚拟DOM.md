# 真实DOM
- 真实DOM: 浏览器解析html文件, html(DOM树) + css(style 规则)  = 结合为 render树 -> 通过重排和重绘 渲染到页面上
## 虚拟 DOM

- 在真实DOM的基础上,创建一个一模一样的副本, 本质是一个表示DOM结构的 JS对象, (标签类型,它的相关属性,子标签)
- React在内存中维护一个跟真实dom一样的虚拟dom, 通过diff算法 找出前后变化差异, 只更新差异的地方, 然后一次性更新真实DOM,
- 这样做可以大量的减少dom操作, 从而有效的减少DOM 重排 和 重绘, 也就提高了渲染速度. 
  
  - 好处: 
    - 1. 提升开发效率: 不必去操作dom属性,事件处理, 开发人员可以有更多的精力去关注业务逻辑
    - 2. 关于提升性能: 直接操作dom非常消耗性能,这点是肯定的, 但使用虚拟dom也无法避免操作dom,只是减少了dom操作
                      - 举个例子: 页面添加一个列表, 直接操作dom就像是 一个一个的添加, 而虚拟dom就像是整个列表在内存中渲染好了,直接一次性添加到页面.
    - 3. 跨平台兼容: 
## diff算法

- 实际上 React维护了两个虚拟dom, 一个是真实dom的副本,一个是具有更新状态的虚拟DOM,
- 首先对比的是节点, 前后节点如果改变, 重新渲染该节点,即使子元素没有变化,也会被重新渲染.

## key 的作用

- 用来判断元素是新创建得还是被移动的元素, 从而减少不必要的渲染.
- 比如一个列表, 当在后面追加一个的时候, 这个列表的更新只有追加的那一个, 当在前面插入的时候, 如果没有key, 从插入的节点开始,之后的都会重新渲染,
- 而当有key的时候, 就只有插入的那段dom更新. 删除某一个, 列表不会重新渲染.
- 因此key值必须是唯一的值, 不能是随机字符串和 index 索引, 常用数据的id来当做key值
## 防止xss攻击

- react渲染时,会把没有typeof标识的组件过滤掉 
