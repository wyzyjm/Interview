# Data management portal

- 项目背景:
    - 微软Azure人工智能这块, 包含视觉,语音,语言,决策,open AI五大服务, 开发人员通过 调用SDK的方式将这些服务添加到应用中.
    - 我所负责的这个data management portal 是为 Decision AI 项目组服务的,主要是帮助他们 管理一些数据集以及实验结果的可视化对比 
- 基于这些需求
    - 设计了三个模块: dataset 管理, Dsatcase 管理, 结果分析模块
    - 主要是 上传下载,筛选,图表展示的功能

## 项目需求收集

1. 需求建模: 收集用户需求,对前后台进行设计

    - 前台设计不同模块的 UI 效果, 后台根据模块设计对应的表结构
    - 收集 Azure AI 实验人员对数据集管理的需求,然后设计了三个模块.

        - 管理所有的数据集,  
            - -> 数据集列表页
                - 上传下载: 让用户填写一些信息,选择分类,详情描述,典型数据线名称等
                - 数据集展示: 名称, 数据量, 日期等一些信息.
                - 搜索功能: 随着数据集的增多, 又添加了搜索功能.
            - -> 详情页
                - 典型数据线的图表展示,限制了最多显示5条, 如果用户上传的时候填写了名称,就显示填写的,没填写就默认取前5条,这样方便用户直观的观测到这个数据集的大概情况.
                - 详情描述
                - 基于当前数据切分数据集的列表展示,我们也支持将这些数据集管理起来
        - 管理数据集中异常 的case , 我们会对这些case进行分类管理
            - -> 分类列表页 
                - 上传下载:上传的时候可以对当前case 进行打标签, 详细说明等 
            - -> 详情页
                - 会展示这一类 case全部展示出来
                - 每一条case的展现形式就是 图表 + 状态 + 描述.支持修改当前case的状态.
                - 图表里 可以清晰的看到真实的异常点 与检测出来的差异. 之前有想过用不同符号来表示,但那些重合的点就不好表示,最后选择了同心圆的方式

        - Azure 结果可视化,及同 竞品的对比可视化, 这部分的数据来源是他们跑完的结果已经存在数据库中了, 我只要拿过来展示就行.
            - -> 对 Azure 结果指标的可视化,
                - 表单筛选 单变量检测多变量检测,数据集,平台, 日期, 等一些指标
                - 表格展示:
                - 图表展示:支持两种模式,(同平台使用折线图, 同日期使用柱形图)
            - -> 不同平台间的异常点的对比: 服务> 数据集> 平台> 日期来存储的
                - 表单选择: 服务,数据集, 平台(支持选择两个平台), 检测方式等一些其它配置
                - 图表展示: 真实异常点, A 平台异常点, B 平台异常点
                - 同时提供下载按钮, 可以将当前数据集,及所选平台检测方式等下载下来,做验证

    - 后端
        - 比如 case 模块设计分类的表:
            - 分类: id, 分类名称,等
            - case 表: id,分类 id,名称, 所属数据集,状态,owner,文件存储路径

2. 项目开发: 编码工作
    - 前端:
        - React 脚手架 搭建项目. React router
        - 使用 Ant disign 创建 UI 界面 3版本的.
        - 使用 Echarts 展示图表, echarts-for-react
    - 后端:
        - Node.js + Express 搭建
        - cors, body-parse,
        - use中间件实现 toten验证(JWT),设置(白名单), 返回promise
        - 封装SQL语句, 增删该查.
        - 设计 API, 查询,更新, 前台的删除, 对后台来说也是更新,更改一个标识之类的, 然后根据标识返回list
        - 驱动python脚本 分析处理上传过来的文件信息.
    - 测试
        - 两个测试人员: 手动测试, 然后写Bug 文档, 区分优先级
        - 用户: 主要是测试这个功能合不合理,有哪些地方需要改进的
3. 项目部署:
    - Azure static web app  // 前端
    - Azure app service     // 后端
    - 自动化: Azure DevOps   // 
4. 项目管理:
    - 代码管理: Azure DevOps
        - 托管: Azure Repo   
        - Github flow 策略 master主分支(设置权限), test分支(编写yaml文件中指定test分支为测试环境)  
    - 项目情况: 用OneNote记录 项目情况,像 前后端设计模型,项目相关资源,项目配置, 代码分支记录, 版本迭代内容, 用户体验收集, Bug等等相关信息.
  