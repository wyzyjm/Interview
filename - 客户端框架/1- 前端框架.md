# 客户端框架

1. 2013 年 faceBook 公司发布 React,本身是一个用来渲染用户界面组件的库.

    - 结合 `reactDom` 用来构建`web应用`
    - 结合 `react native` 用来构建`移动端应用`
    - 使用了 JSX 语法来扩展 JS

2. 2014 年, 尤雨溪发布 Vue.
    - 用自己代码扩展了 html

## 框架为什么会存在

1.  直接使用 dom:
    -   创建元素
    -   修改元素属性
    -   将多个元素放在一起
    -   页面中渲染元素
2.  这些实际上都没有处理用户交互, 但已经花费了许多精力了,再加上交互逻辑之类
3.  因此 JavaScript 框架诞生了, 它们的出现是为了让 开发者可以更轻松的使用 JavaScript 来构建 应用程序.
4.  框架所带来的功能
    -   `声明式`:提供给开发者 一种以声明式的方式编写用户界面, 也就是说允许你编写描述用户界面的代码, 然后框架再对这些进行编译然后呈现 Dom.
        -   拿渲染一个列表来说, vue 语法:v-for 解决, React: map 完事. 虽然 ES6 模板字符串也可以实现编写 html 外观的字符串, 但比如渲染复杂元素及管理来说,就显的比较困难了
    -   `组件化`:开发者可以将页面各个部分抽象为组件, 增加了代码复用性, 可维护性.
        -   所以才有了各种 UI 库的诞生. 开发者各种组合,来生成应用程序.
        -   react & vue 项目的目录划分也几乎相同.
    -   `客户端路由`:
        -   服务端路由: 当点击不同链接,地址栏中 url 发生变化,由浏览器与目标服务器通信,获取内容,
        -   客户端路由:
            -   不像传统路由那样每次都请求一个新的 html 文件,而是加载单个 html, 然后通过更新 dom 的方式,来展示不同的伪页面,而这些伪页面称为 view.
            -   然后浏览器地址栏有两种模式, history 模式 和 hash 模式, history 通过操作浏览器 history api, 如 push, replace, go 等来实现前进后退.
            -   具体实现都有对应的库, Vue: `vue-router` 库, react: `React router`;
    -   `配套工具`:这些框架都有庞大而活跃的社区, 因此每个框架都提供了各种工具来改善开发体验,
        -   如添加测试脚本,来确保应用表现行为, 我用过的有 jest 和 微软的一款 playwright,都是测 UI 和 行为.
        -   全局状态管理: Vue: vuex , React: redux. mobox.
        -   支持多端运行: vue: weex, React: reactDom 实现 web 端, 结合 react native 来实现移动端

## 框架的主要特性

1. 领域特定语言
    - JSX
    - TypeScript
    - Handlebars
2.

## 使用过程中注意的问题

1. 熟悉工具:
2. 浏览器的支持情况
    - React & vue 都是支持 IE9 以上浏览器.
3. 性能优化:
    - 框架为了将声明式的这些内容转化为 dom,肯定会有自己的代码, 还有一些第三方依赖都是一整套的, 因此在使用它们时要尽可能的按需加载.
    - webpack 配置 压缩
4. 用户体验
    - 无障碍的支持: 由于客户端路由的原因, 每次更新视图, 辅助技术不知道是该切换焦点还是 宣读新的页面标题.
    - 而传统的服务端路由就不会存在这个问题,导航具有可预测的结果. 浏览器知道将焦点设置到页面顶部.

## 客户端框架的替代方案

1. 内容管理系统: 模板建站.
2. 服务端渲染: 将呈现单页应用程序放到服务端来做.
    - Vue: Nuxt.js, React: Next.js
3. 静态站点生成器.
