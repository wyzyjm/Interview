<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>深拷贝</title>
    </head>
    <body>
        <script type="text/javascript">
            var obj = {
                name: "小明",
                age: 18,
                date: new Date(),
                rule: new RegExp(/^.(css)$/g),
                hoby: [
                    "小花",
                    {
                        a: "a",
                        b: "b"
                    }
                ],
                say: function () {
                    console.log("哈哈哈")
                }
            }

            function deepCopy(obj) {
                if (typeof obj !== "object" || obj === null) return obj // 不是对象类型的， 直接返回值
                if (obj instanceof RegExp) return new RegExp(obj) // 正则
                if (obj instanceof Date) return new Date(obj) // 日期
                let newObj = {}
                for (var i in obj) {
                    if (obj.hasOwnProperty(i)) {
                        newObj[i] = deepCopy(obj[i])
                    }
                }
                return newObj
            }
            let person = deepCopy(obj)
            person.name = "小花"
            person.hoby[0] = "嘿嘿"

            console.log("obj", obj)
            console.log("person", person)
        </script>
    </body>
</html>
